# SEO WIBE MVP

MVP-сервис для автоматизации SEO-описаний карточек товаров Wildberries/Ozon.

## Что реализовано
- Регистрация и вход
- Роли: `client`, `admin`
- Самостоятельная привязка API-ключей WB/Ozon пользователем
- Проверка ключей подключения из интерфейса
- Удаление ключей пользователем
- Импорт товаров через API (с fallback на демо)
- Перезагрузка базы товаров (очистка и повторная загрузка из маркетплейса)
- Полный артикул и баркод в списке товаров
- Первая фотография товара в списке
- Автоподбор ключевиков по названию, текущему описанию и конкурентам
- Отдельная проверка текущих позиций по выбранным товарам (или по всем)
- Генерация SEO-рекомендаций по выбранным товарам или по всем товарам
- Снимок конкурентов в каждой SEO-задаче
- Удаление SEO-задач: выборочно или полная очистка
- SEO-таблица с названием и артикулом товара
- Применение рекомендаций через API (с fallback при ошибках)
- Ручной recheck SEO-задач и recheck просроченных задач
- Дашборд по изменениям
- Тренд позиций по дням (снимки после генерации/recheck/проверок)
- Карточка выбранного товара с фото и мини-трендом
- Канбан SEO-задач по статусам (Generated/In progress/Applied/Top-5 reached)
- Фоновая переоценка задач (каждые 3 дня)
- Админ-панель: пользователи, ключи клиентов, управление модулями
- Модуль `wb_reviews_ai`: отзывы WB, генерация ответа и отправка ответа
- Модуль `wb_ads`: список рекламных кампаний WB и получение ставок

## Быстрый старт
```bash
python3 -m venv .venv
. .venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload --port 8011
```

Открыть: http://127.0.0.1:8011

## GitHub и релизы
- Полная инструкция: `docs/GITHUB_SETUP.md`
- Быстрый релиз-коммит: `scripts/release.sh "feat: описание изменений"`
- Релиз с тегом: `scripts/release.sh --tag v0.1.3 "feat: описание изменений"`
- VPS bootstrap: `sudo bash scripts/setup_vps.sh`

## Формат ключей
- WB: `api_key`
- Ozon: `client_id:api_key`

## Учетка администратора
Первый зарегистрированный пользователь автоматически получает роль `admin`.

## Важное
- Реальные интеграции идут через `app/services/marketplace.py`.
- Новые интеграции модулей WB (`reviews/ads`) вынесены в `app/services/wb_modules.py`.
- Некоторые операции Ozon/WB могут требовать дополнительных обязательных полей и прав API в зависимости от категории и версии кабинета.
- В проекте есть fallback-логика на демо-данные, чтобы интерфейс продолжал работать даже при отказе внешнего API.
- Токены API не выводятся в ответах/логах; маскирование ключей доступно только в админских/пользовательских списках credential.

## Биллинг
По вашему требованию биллинг пока отложен. Архитектура модулей и доступов уже подготовлена под последующее подключение оплаты.
